<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∫–æ–ª–µ ‚Äî –∫–∞–∫ –≤ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞—Ö</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/map-style.css') }}">
</head>
<body>
    <div class="map-app">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar">
            <button class="sidebar-toggle" id="sidebar-toggle">‚óÄ</button>

            <div class="search-header">
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞...">
                    <div class="search-results" id="search-results"></div>
                </div>

                <div class="location-card">
                    <div class="location-title">üìç –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</div>
                    <div class="location-name" id="start-location">–ù–µ –≤—ã–±—Ä–∞–Ω–æ</div>
                    <div class="location-actions">
                        <button class="location-btn" id="scan-qr">
                            <span>üì∑</span> QR-–∫–æ–¥
                        </button>
                        <button class="location-btn" id="my-location">
                            <span>üéØ</span> –ú–æ–µ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                </div>
            </div>

            <div class="categories">
                <div class="categories-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                <div class="categories-grid">
                    <div class="category-item active" data-category="all">
                        <span class="category-icon">üè¢</span>
                        <span class="category-name">–í—Å–µ</span>
                    </div>
                    <div class="category-item" data-category="classroom">
                        <span class="category-icon">üìö</span>
                        <span class="category-name">–ö–ª–∞—Å—Å—ã</span>
                    </div>
                    <div class="category-item" data-category="cafeteria">
                        <span class="category-icon">üçΩÔ∏è</span>
                        <span class="category-name">–ï–¥–∞</span>
                    </div>
                    <div class="category-item" data-category="toilet">
                        <span class="category-icon">üöª</span>
                        <span class="category-name">–¢—É–∞–ª–µ—Ç—ã</span>
                    </div>
                    <div class="category-item" data-category="entrance">
                        <span class="category-icon">üö™</span>
                        <span class="category-name">–í—Ö–æ–¥—ã</span>
                    </div>
                    <div class="category-item" data-category="stair">
                        <span class="category-icon">‚¨ÜÔ∏è</span>
                        <span class="category-name">–õ–µ—Å—Ç–Ω–∏—Ü—ã</span>
                    </div>
                    <div class="category-item" data-category="elevator">
                        <span class="category-icon">üõó</span>
                        <span class="category-name">–õ–∏—Ñ—Ç—ã</span>
                    </div>
                    <div class="category-item" data-category="hall">
                        <span class="category-icon">üèõÔ∏è</span>
                        <span class="category-name">–ó–∞–ª—ã</span>
                    </div>
                </div>
            </div>

            <div class="places-section">
                <div class="places-header">
                    <h3>–ú–µ—Å—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
                    <span class="places-count" id="places-count">0</span>
                </div>
                <div id="places-list"></div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –º–∞—Ä—à—Ä—É—Ç–∞ -->
            <div class="route-panel" id="route-panel">
                <div class="route-header">
                    <div class="route-info">
                        <span class="route-distance" id="route-distance">--</span>
                        <span class="route-time" id="route-time">üö∂ -- –º</span>
                    </div>
                    <button class="route-close" onclick="document.getElementById('route-panel').classList.remove('active')">‚úï</button>
                </div>

                <div class="route-steps" id="route-steps"></div>

                <button class="route-build-btn" id="build-route">
                    <span>üö∂</span> –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
                </button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ -->
        <div class="map-container">
            <canvas id="main-map"></canvas>

            <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div class="map-controls">
                <button class="map-control-btn" id="zoom-in" title="–ü—Ä–∏–±–ª–∏–∑–∏—Ç—å">‚ûï</button>
                <button class="map-control-btn" id="zoom-out" title="–û—Ç–¥–∞–ª–∏—Ç—å">‚ûñ</button>
                <button class="map-control-btn" id="reset-view" title="–°–±—Ä–æ—Å–∏—Ç—å –≤–∏–¥">üîÑ</button>
                <button class="map-control-btn" id="layer-switch" title="–°–ª–æ–∏">üó∫Ô∏è</button>
            </div>

            <!-- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç—Ç–∞–∂–µ–π -->
            <div class="floor-control">
                <button class="floor-btn active" data-floor="1">1</button>
                <button class="floor-btn" data-floor="2">2</button>
                <button class="floor-btn" data-floor="3">3</button>
            </div>

            <!-- –ú–∞—Å—à—Ç–∞–± -->
            <div class="map-scale">
                <span class="scale-line"></span>
                <span id="map-scale-value">100 –º</span>
            </div>

            <!-- –ë–∞–ª—É–Ω —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
            <div class="balloon" id="balloon"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/yandex-style-map.js') }}"></script>
</body>
</html>